{"file":"index-7aCvNmNe.js","mappings":"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","names":["selectedClass","_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_unref","_ssrInterpolate","_withAsyncContext","_ssrRenderList"],"sources":["../../../../components/CharacterSheet.vue","../../../../pages/ficha/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { ClassDetail } from '~/types/character'\n\nconst props = defineProps<{\n  selectedClass: ClassDetail | null\n}>()\n\nconst emit = defineEmits<{\n  save: [character: any]\n}>()\n\nconst character = ref({\n  name: '',\n  level: 1,\n  race: '',\n  background: '',\n  alignment: '',\n  experience: 0,\n  strength: 10,\n  dexterity: 10,\n  constitution: 10,\n  intelligence: 10,\n  wisdom: 10,\n  charisma: 10,\n  hitPoints: 0,\n  armorClass: 10,\n  initiative: 0,\n  speed: 30,\n  proficiencies: [] as string[],\n  savingThrows: [] as string[],\n})\n\nconst saveCharacter = () => {\n  if (!character.value.name.trim()) {\n    alert('Please enter a character name')\n    return\n  }\n\n  const characterData = {\n    ...character.value,\n    class_name: props.selectedClass?.name || '',\n    class_hit_die: props.selectedClass?.hit_die || 6,\n    proficiencies: props.selectedClass?.proficiencies.map(p => p.name) || [],\n    saving_throws: props.selectedClass?.saving_throws.map(s => s.name) || []\n  }\n\n  emit('save', characterData)\n}\n</script>\n\n<template>\n  <div v-if=\"selectedClass\" class=\"character-sheet\">\n    <div class=\"sheet-header\">\n      <h2 class=\"text-2xl font-bold mb-4\">Character Sheet</h2>\n      <div class=\"grid grid-cols-2 gap-4\">\n        <div class=\"form-group\">\n          <label>Character Name</label>\n          <input v-model=\"character.name\" type=\"text\" class=\"form-input\" />\n        </div>\n        <div class=\"form-group\">\n          <label>Class</label>\n          <input :value=\"selectedClass.name\" type=\"text\" class=\"form-input\" disabled />\n        </div>\n        <div class=\"form-group\">\n          <label>Level</label>\n          <input v-model=\"character.level\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n        </div>\n        <div class=\"form-group\">\n          <label>Race</label>\n          <input v-model=\"character.race\" type=\"text\" class=\"form-input\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"sheet-body mt-6\">\n      <div class=\"grid grid-cols-3 gap-6\">\n        <div class=\"ability-scores\">\n          <h3 class=\"text-xl font-semibold mb-4\">Ability Scores</h3>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div class=\"ability-score\">\n              <label>Strength</label>\n              <input v-model=\"character.strength\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n            </div>\n            <div class=\"ability-score\">\n              <label>Dexterity</label>\n              <input v-model=\"character.dexterity\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n            </div>\n            <div class=\"ability-score\">\n              <label>Constitution</label>\n              <input v-model=\"character.constitution\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n            </div>\n            <div class=\"ability-score\">\n              <label>Intelligence</label>\n              <input v-model=\"character.intelligence\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n            </div>\n            <div class=\"ability-score\">\n              <label>Wisdom</label>\n              <input v-model=\"character.wisdom\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n            </div>\n            <div class=\"ability-score\">\n              <label>Charisma</label>\n              <input v-model=\"character.charisma\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"combat-stats\">\n          <h3 class=\"text-xl font-semibold mb-4\">Combat Stats</h3>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div class=\"stat\">\n              <label>Hit Points</label>\n              <input v-model=\"character.hitPoints\" type=\"number\" min=\"1\" class=\"form-input\" />\n            </div>\n            <div class=\"stat\">\n              <label>Armor Class</label>\n              <input v-model=\"character.armorClass\" type=\"number\" min=\"1\" class=\"form-input\" />\n            </div>\n            <div class=\"stat\">\n              <label>Initiative</label>\n              <input v-model=\"character.initiative\" type=\"number\" min=\"1\" class=\"form-input\" />\n            </div>\n            <div class=\"stat\">\n              <label>Speed</label>\n              <input v-model=\"character.speed\" type=\"number\" min=\"1\" class=\"form-input\" />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"class-features\">\n          <h3 class=\"text-xl font-semibold mb-4\">Class Features</h3>\n          <div class=\"feature\">\n            <h4 class=\"font-semibold\">Hit Die</h4>\n            <p>d{{ selectedClass.hit_die }}</p>\n          </div>\n          <div class=\"feature\">\n            <h4 class=\"font-semibold\">Saving Throws</h4>\n            <ul class=\"list-disc pl-5\">\n              <li v-for=\"save in selectedClass.saving_throws\" :key=\"save.index\">\n                {{ save.name }}\n              </li>\n            </ul>\n          </div>\n          <div class=\"feature\">\n            <h4 class=\"font-semibold\">Proficiencies</h4>\n            <ul class=\"list-disc pl-5\">\n              <li v-for=\"prof in selectedClass.proficiencies\" :key=\"prof.index\">\n                {{ prof.name }}\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mt-6 text-center\">\n      <button \n        @click=\"saveCharacter\" \n        class=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded\"\n      >\n        Salvar personagem\n      </button>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.character-sheet {\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  padding: 2rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-input {\n  padding: 0.5rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  background-color: white;\n}\n\n.form-input:disabled {\n  background-color: #f0f0f0;\n  cursor: not-allowed;\n}\n\n.ability-score, .stat {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.feature {\n  margin-bottom: 1rem;\n}\n</style> ","<script setup lang=\"ts\">\n\ninterface apiClassResponse {\n  count: number\n  results: {\n    index: string\n    name: string\n    url: string\n  }[]\n}\n\ninterface Reference {\n  index: string\n  name: string\n  url: string\n}\n\ninterface ProficiencyChoice {\n  desc: string\n  choose: number\n  type: string\n  from: {\n    option_set_type: string\n    options: Array<{\n      option_type: string\n      item?: Reference\n      count?: number\n      of?: Reference\n      choice?: {\n        desc: string\n        choose: number\n        type: string\n        from: {\n          option_set_type: string\n          equipment_category?: Reference\n        }\n      }\n    }>\n  }\n}\n\ninterface StartingEquipment {\n  equipment: Reference\n  quantity: number\n}\n\ninterface MultiClassing {\n  prerequisites: Array<{\n    ability_score: Reference\n    minimum_score: number\n  }>\n  proficiencies: Reference[]\n}\n\ninterface ClassDetail {\n  index: string\n  name: string\n  hit_die: number\n  proficiency_choices: ProficiencyChoice[]\n  proficiencies: Reference[]\n  saving_throws: Reference[]\n  starting_equipment: StartingEquipment[]\n  starting_equipment_options: ProficiencyChoice[]\n  class_levels: string\n  multi_classing: MultiClassing\n  subclasses: Reference[]\n  url: string\n  updated_at: string\n}\n\nconst { data } = await useFetch<apiClassResponse>('https://www.dnd5eapi.co/api/2014/classes')\n\nconst classes = computed(() => data.value?.results)\n\nconst selectedClass = ref<ClassDetail | null>(null)\n\nconst handleClassClick = async (classIndex: string) => {\n  const classData = await $fetch<ClassDetail>(`https://www.dnd5eapi.co/api/2014/classes/${classIndex}`)\n  selectedClass.value = classData\n}\n\nconst handleSaveCharacter = async (characterData: any) => {\n  try {\n    const result = await $fetch('/api/characters', {\n      method: 'POST',\n      body: characterData\n    })\n\n    alert('Personagem salvo com sucesso!')\n    selectedClass.value = null\n  } catch (error) {\n    console.error('Error saving character:', error)\n    alert('Falha ao salvar personagem. Por favor, tente novamente.')\n  }\n}\n\nconst viewCharacterSheets = () => {\n  navigateTo('/fichas')\n}\n\nconst getClassColor = (className: string) => {\n  const colorMap: Record<string, string> = {\n    barbarian: '#8B0000', // Dark red\n    bard: '#9370DB', // Medium purple\n    cleric: '#FFD700', // Gold\n    druid: '#228B22', // Forest green\n    fighter: '#A52A2A', // Brown\n    monk: '#FFA500', // Orange\n    paladin: '#4169E1', // Royal blue\n    ranger: '#006400', // Dark green\n    rogue: '#4B0082', // Indigo\n    sorcerer: '#FF1493', // Deep pink\n    warlock: '#800080', // Purple\n    wizard: '#1E90FF', // Dodger blue\n  }\n  return colorMap[className.toLowerCase()] || '#808080'\n}\n</script>\n\n<template>\n    <div class=\"min-h-screen\">\n        <h1 class=\"text-3xl font-bold mb-6 text-center text-gray-900 font-fantasy mt-4\">Escolha sua classe</h1>\n        <div class=\"classes-grid\">\n            <div \n            v-for=\"item in classes\" \n            :key=\"item.index\"\n            class=\"class-card\"\n            :style=\"{ backgroundColor: getClassColor(item.name) }\"\n            @click=\"handleClassClick(item.index)\"\n            >\n            <h1>{{ item.name }}</h1>\n            </div>\n        </div>\n        <CharacterSheet v-if=\"selectedClass\" :selected-class=\"selectedClass\" @save=\"handleSaveCharacter\" />\n\n        <div class=\"mt-6 text-center space-x-4\">\n          <button @click=\"viewCharacterSheets\" class=\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded\">\n            Ver fichas de personagens\n          </button>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.classes-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 1rem;\n  padding: 1rem;\n}\n\n.class-card {\n  border-radius: 8px;\n  padding: 1.5rem;\n  color: white;\n  text-align: center;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  transition: transform 0.2s ease-in-out;\n}\n\n.class-card:hover {\n  transform: translateY(-5px);\n}\n\n.class-card h1 {\n  margin: 0;\n  font-size: 1.5rem;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\n}\n\n.class-details {\n  padding: 2rem;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  margin: 1rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.detail-section {\n  background-color: white;\n  padding: 1rem;\n  border-radius: 6px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n</style>\n"],"version":3}