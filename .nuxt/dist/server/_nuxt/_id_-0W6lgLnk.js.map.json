{"file":"_id_-0W6lgLnk.js","mappings":"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","names":["_withAsyncContext","_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderAttr","_ssrInterpolate"],"sources":["../../../../pages/ficha/[id].vue"],"sourcesContent":["<script setup lang=\"ts\">\ninterface Character {\n  id: number\n  name: string\n  level: number\n  race: string\n  background: string\n  alignment: string\n  experience: number\n  strength: number\n  dexterity: number\n  constitution: number\n  intelligence: number\n  wisdom: number\n  charisma: number\n  hitPoints: number\n  armorClass: number\n  initiative: number\n  speed: number\n  class_name: string\n  class_hit_die: number\n  proficiencies: string[]\n  saving_throws: string[]\n  created_at: string\n  updated_at: string\n}\n\nconst route = useRoute()\nconst characterId = route.params.id as string\n\n// Fetch character data\nconst { data: characterData } = await useFetch<{ success: boolean; character: Character }>(`/api/characters/${characterId}`)\nconst character = computed(() => characterData.value?.character)\n\n// Form data\nconst formData = ref({\n  name: '',\n  level: 1,\n  race: '',\n  background: '',\n  alignment: '',\n  experience: 0,\n  strength: 10,\n  dexterity: 10,\n  constitution: 10,\n  intelligence: 10,\n  wisdom: 10,\n  charisma: 10,\n  hitPoints: 0,\n  armorClass: 10,\n  initiative: 0,\n  speed: 30,\n  class_name: '',\n  class_hit_die: 6,\n  proficiencies: [] as string[],\n  saving_throws: [] as string[],\n})\n\n// Populate form when character data is loaded\nwatch(character, (newCharacter) => {\n  if (newCharacter) {\n    formData.value = {\n      name: newCharacter.name,\n      level: newCharacter.level,\n      race: newCharacter.race,\n      background: newCharacter.background,\n      alignment: newCharacter.alignment,\n      experience: newCharacter.experience,\n      strength: newCharacter.strength,\n      dexterity: newCharacter.dexterity,\n      constitution: newCharacter.constitution,\n      intelligence: newCharacter.intelligence,\n      wisdom: newCharacter.wisdom,\n      charisma: newCharacter.charisma,\n      hitPoints: newCharacter.hitPoints,\n      armorClass: newCharacter.armorClass,\n      initiative: newCharacter.initiative,\n      speed: newCharacter.speed,\n      class_name: newCharacter.class_name,\n      class_hit_die: newCharacter.class_hit_die,\n      proficiencies: newCharacter.proficiencies,\n      saving_throws: newCharacter.saving_throws,\n    }\n  }\n}, { immediate: true })\n\nconst getModifier = (score: number) => {\n  return Math.floor((score - 10) / 2)\n}\n\nconst updateCharacter = async () => {\n  if (!formData.value.name.trim()) {\n    alert('Por favor, insira um nome para o personagem')\n    return\n  }\n\n  try {\n    const result = await $fetch(`/api/characters/${characterId}`, {\n      method: 'PUT',\n      body: formData.value\n    })\n\n    if (result?.success) {\n      alert('Personagem atualizado com sucesso!')\n      navigateTo('/fichas')\n    }\n  } catch (error) {\n    console.error('Error updating character:', error)\n    alert('Falha ao atualizar personagem. Por favor, tente novamente.')\n  }\n}\n\nconst cancelEdit = () => {\n  navigateTo('/fichas')\n}\n</script>\n\n<template>\n  <div class=\"min-h-screen bg-gray-50 py-8\">\n    <div class=\"max-w-4xl mx-auto px-4\">\n      <div class=\"bg-white rounded-lg shadow-lg p-6\">\n        <div class=\"flex justify-between items-center mb-6\">\n          <h1 class=\"text-3xl font-bold text-gray-900\">Editar Personagem</h1>\n          <div class=\"space-x-2\">\n            <button \n              @click=\"cancelEdit\"\n              class=\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors\"\n            >\n              Cancelar\n            </button>\n            <button \n              @click=\"updateCharacter\"\n              class=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors\"\n            >\n              Salvar Alterações\n            </button>\n          </div>\n        </div>\n\n        <div v-if=\"character\" class=\"space-y-6\">\n          <!-- Basic Information -->\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div class=\"form-group\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Nome do Personagem</label>\n              <input v-model=\"formData.name\" type=\"text\" class=\"form-input\" />\n            </div>\n            <div class=\"form-group\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Classe</label>\n              <input v-model=\"formData.class_name\" type=\"text\" class=\"form-input\" disabled />\n            </div>\n            <div class=\"form-group\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Nível</label>\n              <input v-model=\"formData.level\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n            </div>\n            <div class=\"form-group\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Raça</label>\n              <input v-model=\"formData.race\" type=\"text\" class=\"form-input\" />\n            </div>\n            <div class=\"form-group\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Antecedente</label>\n              <input v-model=\"formData.background\" type=\"text\" class=\"form-input\" />\n            </div>\n            <div class=\"form-group\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Alinhamento</label>\n              <input v-model=\"formData.alignment\" type=\"text\" class=\"form-input\" />\n            </div>\n            <div class=\"form-group\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Experiência</label>\n              <input v-model=\"formData.experience\" type=\"number\" min=\"0\" class=\"form-input\" />\n            </div>\n          </div>\n\n          <!-- Ability Scores -->\n          <div>\n            <h3 class=\"text-xl font-semibold mb-4\">Habilidades</h3>\n            <div class=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              <div class=\"ability-score\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Força</label>\n                <input v-model=\"formData.strength\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n                <div class=\"text-xs text-gray-600 mt-1\">\n                  Modificador: {{ getModifier(formData.strength) >= 0 ? '+' : '' }}{{ getModifier(formData.strength) }}\n                </div>\n              </div>\n              <div class=\"ability-score\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Destreza</label>\n                <input v-model=\"formData.dexterity\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n                <div class=\"text-xs text-gray-600 mt-1\">\n                  Modificador: {{ getModifier(formData.dexterity) >= 0 ? '+' : '' }}{{ getModifier(formData.dexterity) }}\n                </div>\n              </div>\n              <div class=\"ability-score\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Constituição</label>\n                <input v-model=\"formData.constitution\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n                <div class=\"text-xs text-gray-600 mt-1\">\n                  Modificador: {{ getModifier(formData.constitution) >= 0 ? '+' : '' }}{{ getModifier(formData.constitution) }}\n                </div>\n              </div>\n              <div class=\"ability-score\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Inteligência</label>\n                <input v-model=\"formData.intelligence\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n                <div class=\"text-xs text-gray-600 mt-1\">\n                  Modificador: {{ getModifier(formData.intelligence) >= 0 ? '+' : '' }}{{ getModifier(formData.intelligence) }}\n                </div>\n              </div>\n              <div class=\"ability-score\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Sabedoria</label>\n                <input v-model=\"formData.wisdom\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n                <div class=\"text-xs text-gray-600 mt-1\">\n                  Modificador: {{ getModifier(formData.wisdom) >= 0 ? '+' : '' }}{{ getModifier(formData.wisdom) }}\n                </div>\n              </div>\n              <div class=\"ability-score\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Carisma</label>\n                <input v-model=\"formData.charisma\" type=\"number\" min=\"1\" max=\"20\" class=\"form-input\" />\n                <div class=\"text-xs text-gray-600 mt-1\">\n                  Modificador: {{ getModifier(formData.charisma) >= 0 ? '+' : '' }}{{ getModifier(formData.charisma) }}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Combat Stats -->\n          <div>\n            <h3 class=\"text-xl font-semibold mb-4\">Estatísticas de Combate</h3>\n            <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div class=\"stat\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Pontos de Vida</label>\n                <input v-model=\"formData.hitPoints\" type=\"number\" min=\"1\" class=\"form-input\" />\n              </div>\n              <div class=\"stat\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Classe de Armadura</label>\n                <input v-model=\"formData.armorClass\" type=\"number\" min=\"1\" class=\"form-input\" />\n              </div>\n              <div class=\"stat\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Iniciativa</label>\n                <input v-model=\"formData.initiative\" type=\"number\" class=\"form-input\" />\n              </div>\n              <div class=\"stat\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Velocidade</label>\n                <input v-model=\"formData.speed\" type=\"number\" min=\"1\" class=\"form-input\" />\n              </div>\n            </div>\n          </div>\n\n          <!-- Class Features -->\n          <div>\n            <h3 class=\"text-xl font-semibold mb-4\">Características da Classe</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div class=\"feature\">\n                <h4 class=\"font-semibold mb-2\">Dado de Vida</h4>\n                <p class=\"text-gray-700\">d{{ formData.class_hit_die }}</p>\n              </div>\n              <div class=\"feature\">\n                <h4 class=\"font-semibold mb-2\">Testes de Resistência</h4>\n                <ul class=\"list-disc pl-5 text-gray-700\">\n                  <li v-for=\"save in formData.saving_throws\" :key=\"save\">{{ save }}</li>\n                </ul>\n              </div>\n              <div class=\"feature md:col-span-2\">\n                <h4 class=\"font-semibold mb-2\">Proficiências</h4>\n                <ul class=\"list-disc pl-5 text-gray-700\">\n                  <li v-for=\"prof in formData.proficiencies\" :key=\"prof\">{{ prof }}</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div v-else class=\"text-center py-8\">\n          <div class=\"text-gray-500\">Carregando personagem...</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.form-input {\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  background-color: white;\n  transition: border-color 0.15s ease-in-out;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.form-input:disabled {\n  background-color: #f3f4f6;\n  cursor: not-allowed;\n}\n\n.ability-score, .stat {\n  display: flex;\n  flex-direction: column;\n}\n\n.feature {\n  background-color: #f9fafb;\n  padding: 1rem;\n  border-radius: 0.375rem;\n}\n</style> "],"version":3}