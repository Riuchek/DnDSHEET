import{g as V,q as U,s as P,x as M,r as E,y as A,c as r,a as s,m as i,l as n,v as a,t as d,F as c,z as f,p as y,o as u,_ as D}from"./DUH91wnT.js";import{u as z}from"./DBd-kvVd.js";const F={class:"min-h-screen bg-gray-50 py-8"},I={class:"max-w-4xl mx-auto px-4"},T={class:"bg-white rounded-lg shadow-lg p-6"},$={key:0,class:"space-y-6"},w={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},B={class:"form-group"},N={class:"form-group"},R={class:"form-group"},S={class:"form-group"},j={class:"form-group"},q={class:"form-group"},H={class:"form-group"},L={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},G={class:"ability-score"},J={class:"text-xs text-gray-600 mt-1"},K={class:"ability-score"},O={class:"text-xs text-gray-600 mt-1"},Q={class:"ability-score"},W={class:"text-xs text-gray-600 mt-1"},X={class:"ability-score"},Y={class:"text-xs text-gray-600 mt-1"},Z={class:"ability-score"},C={class:"text-xs text-gray-600 mt-1"},h={class:"ability-score"},tt={class:"text-xs text-gray-600 mt-1"},st={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},et={class:"stat"},it={class:"stat"},ot={class:"stat"},lt={class:"stat"},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},at={class:"feature"},dt={class:"text-gray-700"},mt={class:"feature"},rt={class:"list-disc pl-5 text-gray-700"},ut={class:"feature md:col-span-2"},pt={class:"list-disc pl-5 text-gray-700"},xt={key:1,class:"text-center py-8"},bt=V({__name:"[id]",async setup(gt){let p,x;const b=U().params.id,{data:v}=([p,x]=P(()=>z(`/api/characters/${b}`,"$3dE46Amzdw")),p=await p,x(),p),g=M(()=>{var l;return(l=v.value)==null?void 0:l.character}),e=E({name:"",level:1,race:"",background:"",alignment:"",experience:0,strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10,hitPoints:0,armorClass:10,initiative:0,speed:30,class_name:"",class_hit_die:6,proficiencies:[],saving_throws:[]});A(g,l=>{l&&(e.value={name:l.name,level:l.level,race:l.race,background:l.background,alignment:l.alignment,experience:l.experience,strength:l.strength,dexterity:l.dexterity,constitution:l.constitution,intelligence:l.intelligence,wisdom:l.wisdom,charisma:l.charisma,hitPoints:l.hitPoints,armorClass:l.armorClass,initiative:l.initiative,speed:l.speed,class_name:l.class_name,class_hit_die:l.class_hit_die,proficiencies:l.proficiencies,saving_throws:l.saving_throws})},{immediate:!0});const m=l=>Math.floor((l-10)/2),k=async()=>{if(!e.value.name.trim()){alert("Por favor, insira um nome para o personagem");return}try{const l=await $fetch(`/api/characters/${b}`,{method:"PUT",body:e.value});l!=null&&l.success&&(alert("Personagem atualizado com sucesso!"),y("/fichas"))}catch(l){console.error("Error updating character:",l),alert("Falha ao atualizar personagem. Por favor, tente novamente.")}},_=()=>{y("/fichas")};return(l,t)=>(u(),r("div",F,[s("div",I,[s("div",T,[s("div",{class:"flex justify-between items-center mb-6"},[t[17]||(t[17]=s("h1",{class:"text-3xl font-bold text-gray-900"},"Editar Personagem",-1)),s("div",{class:"space-x-2"},[s("button",{onClick:_,class:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"}," Cancelar "),s("button",{onClick:k,class:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"}," Salvar Alterações ")])]),i(g)?(u(),r("div",$,[s("div",w,[s("div",B,[t[18]||(t[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nome do Personagem",-1)),n(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i(e).name=o),type:"text",class:"form-input"},null,512),[[a,i(e).name]])]),s("div",N,[t[19]||(t[19]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Classe",-1)),n(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>i(e).class_name=o),type:"text",class:"form-input",disabled:""},null,512),[[a,i(e).class_name]])]),s("div",R,[t[20]||(t[20]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nível",-1)),n(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>i(e).level=o),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[a,i(e).level]])]),s("div",S,[t[21]||(t[21]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Raça",-1)),n(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>i(e).race=o),type:"text",class:"form-input"},null,512),[[a,i(e).race]])]),s("div",j,[t[22]||(t[22]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Antecedente",-1)),n(s("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>i(e).background=o),type:"text",class:"form-input"},null,512),[[a,i(e).background]])]),s("div",q,[t[23]||(t[23]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Alinhamento",-1)),n(s("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>i(e).alignment=o),type:"text",class:"form-input"},null,512),[[a,i(e).alignment]])]),s("div",H,[t[24]||(t[24]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Experiência",-1)),n(s("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>i(e).experience=o),type:"number",min:"0",class:"form-input"},null,512),[[a,i(e).experience]])])]),s("div",null,[t[31]||(t[31]=s("h3",{class:"text-xl font-semibold mb-4"},"Habilidades",-1)),s("div",L,[s("div",G,[t[25]||(t[25]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Força",-1)),n(s("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>i(e).strength=o),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[a,i(e).strength]]),s("div",J," Modificador: "+d(m(i(e).strength)>=0?"+":"")+d(m(i(e).strength)),1)]),s("div",K,[t[26]||(t[26]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Destreza",-1)),n(s("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>i(e).dexterity=o),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[a,i(e).dexterity]]),s("div",O," Modificador: "+d(m(i(e).dexterity)>=0?"+":"")+d(m(i(e).dexterity)),1)]),s("div",Q,[t[27]||(t[27]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Constituição",-1)),n(s("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>i(e).constitution=o),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[a,i(e).constitution]]),s("div",W," Modificador: "+d(m(i(e).constitution)>=0?"+":"")+d(m(i(e).constitution)),1)]),s("div",X,[t[28]||(t[28]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Inteligência",-1)),n(s("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>i(e).intelligence=o),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[a,i(e).intelligence]]),s("div",Y," Modificador: "+d(m(i(e).intelligence)>=0?"+":"")+d(m(i(e).intelligence)),1)]),s("div",Z,[t[29]||(t[29]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sabedoria",-1)),n(s("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>i(e).wisdom=o),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[a,i(e).wisdom]]),s("div",C," Modificador: "+d(m(i(e).wisdom)>=0?"+":"")+d(m(i(e).wisdom)),1)]),s("div",h,[t[30]||(t[30]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Carisma",-1)),n(s("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>i(e).charisma=o),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[a,i(e).charisma]]),s("div",tt," Modificador: "+d(m(i(e).charisma)>=0?"+":"")+d(m(i(e).charisma)),1)])])]),s("div",null,[t[36]||(t[36]=s("h3",{class:"text-xl font-semibold mb-4"},"Estatísticas de Combate",-1)),s("div",st,[s("div",et,[t[32]||(t[32]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Pontos de Vida",-1)),n(s("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>i(e).hitPoints=o),type:"number",min:"1",class:"form-input"},null,512),[[a,i(e).hitPoints]])]),s("div",it,[t[33]||(t[33]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Classe de Armadura",-1)),n(s("input",{"onUpdate:modelValue":t[14]||(t[14]=o=>i(e).armorClass=o),type:"number",min:"1",class:"form-input"},null,512),[[a,i(e).armorClass]])]),s("div",ot,[t[34]||(t[34]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Iniciativa",-1)),n(s("input",{"onUpdate:modelValue":t[15]||(t[15]=o=>i(e).initiative=o),type:"number",class:"form-input"},null,512),[[a,i(e).initiative]])]),s("div",lt,[t[35]||(t[35]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Velocidade",-1)),n(s("input",{"onUpdate:modelValue":t[16]||(t[16]=o=>i(e).speed=o),type:"number",min:"1",class:"form-input"},null,512),[[a,i(e).speed]])])])]),s("div",null,[t[40]||(t[40]=s("h3",{class:"text-xl font-semibold mb-4"},"Características da Classe",-1)),s("div",nt,[s("div",at,[t[37]||(t[37]=s("h4",{class:"font-semibold mb-2"},"Dado de Vida",-1)),s("p",dt,"d"+d(i(e).class_hit_die),1)]),s("div",mt,[t[38]||(t[38]=s("h4",{class:"font-semibold mb-2"},"Testes de Resistência",-1)),s("ul",rt,[(u(!0),r(c,null,f(i(e).saving_throws,o=>(u(),r("li",{key:o},d(o),1))),128))])]),s("div",ut,[t[39]||(t[39]=s("h4",{class:"font-semibold mb-2"},"Proficiências",-1)),s("ul",pt,[(u(!0),r(c,null,f(i(e).proficiencies,o=>(u(),r("li",{key:o},d(o),1))),128))])])])])])):(u(),r("div",xt,t[41]||(t[41]=[s("div",{class:"text-gray-500"},"Carregando personagem...",-1)])))])])]))}}),vt=D(bt,[["__scopeId","data-v-6946a2e0"]]);export{vt as default};
