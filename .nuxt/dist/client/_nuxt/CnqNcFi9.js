import{g as _,r as w,c as m,k,a as e,l as a,v as o,m as n,t as g,F as x,z as C,o as u,_ as V,s as U,x as F,A as B,p as D,B as P}from"./DUH91wnT.js";import{u as $}from"./DBd-kvVd.js";const A={key:0,class:"character-sheet"},E={class:"sheet-header"},T={class:"grid grid-cols-2 gap-4"},I={class:"form-group"},z={class:"form-group"},L=["value"],M={class:"form-group"},N={class:"form-group"},H={class:"sheet-body mt-6"},O={class:"grid grid-cols-3 gap-6"},R={class:"ability-scores"},W={class:"grid grid-cols-2 gap-4"},j={class:"ability-score"},q={class:"ability-score"},G={class:"ability-score"},J={class:"ability-score"},K={class:"ability-score"},Q={class:"ability-score"},X={class:"combat-stats"},Y={class:"grid grid-cols-2 gap-4"},Z={class:"stat"},ss={class:"stat"},es={class:"stat"},ts={class:"stat"},ls={class:"class-features"},ns={class:"feature"},as={class:"feature"},os={class:"list-disc pl-5"},is={class:"feature"},rs={class:"list-disc pl-5"},ds=_({__name:"CharacterSheet",props:{selectedClass:{}},emits:["save"],setup(h,{emit:c}){const p=h,y=c,l=w({name:"",level:1,race:"",background:"",alignment:"",experience:0,strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10,hitPoints:0,armorClass:10,initiative:0,speed:30,proficiencies:[],savingThrows:[]}),v=()=>{var s,t,b,i;if(!l.value.name.trim()){alert("Please enter a character name");return}const d={...l.value,class_name:((s=p.selectedClass)==null?void 0:s.name)||"",class_hit_die:((t=p.selectedClass)==null?void 0:t.hit_die)||6,proficiencies:((b=p.selectedClass)==null?void 0:b.proficiencies.map(r=>r.name))||[],saving_throws:((i=p.selectedClass)==null?void 0:i.saving_throws.map(r=>r.name))||[]};y("save",d)};return(d,s)=>d.selectedClass?(u(),m("div",A,[e("div",E,[s[17]||(s[17]=e("h2",{class:"text-2xl font-bold mb-4"},"Character Sheet",-1)),e("div",T,[e("div",I,[s[13]||(s[13]=e("label",null,"Character Name",-1)),a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>n(l).name=t),type:"text",class:"form-input"},null,512),[[o,n(l).name]])]),e("div",z,[s[14]||(s[14]=e("label",null,"Class",-1)),e("input",{value:d.selectedClass.name,type:"text",class:"form-input",disabled:""},null,8,L)]),e("div",M,[s[15]||(s[15]=e("label",null,"Level",-1)),a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>n(l).level=t),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[o,n(l).level]])]),e("div",N,[s[16]||(s[16]=e("label",null,"Race",-1)),a(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>n(l).race=t),type:"text",class:"form-input"},null,512),[[o,n(l).race]])])])]),e("div",H,[e("div",O,[e("div",R,[s[24]||(s[24]=e("h3",{class:"text-xl font-semibold mb-4"},"Ability Scores",-1)),e("div",W,[e("div",j,[s[18]||(s[18]=e("label",null,"Strength",-1)),a(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>n(l).strength=t),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[o,n(l).strength]])]),e("div",q,[s[19]||(s[19]=e("label",null,"Dexterity",-1)),a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>n(l).dexterity=t),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[o,n(l).dexterity]])]),e("div",G,[s[20]||(s[20]=e("label",null,"Constitution",-1)),a(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>n(l).constitution=t),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[o,n(l).constitution]])]),e("div",J,[s[21]||(s[21]=e("label",null,"Intelligence",-1)),a(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>n(l).intelligence=t),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[o,n(l).intelligence]])]),e("div",K,[s[22]||(s[22]=e("label",null,"Wisdom",-1)),a(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>n(l).wisdom=t),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[o,n(l).wisdom]])]),e("div",Q,[s[23]||(s[23]=e("label",null,"Charisma",-1)),a(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>n(l).charisma=t),type:"number",min:"1",max:"20",class:"form-input"},null,512),[[o,n(l).charisma]])])])]),e("div",X,[s[29]||(s[29]=e("h3",{class:"text-xl font-semibold mb-4"},"Combat Stats",-1)),e("div",Y,[e("div",Z,[s[25]||(s[25]=e("label",null,"Hit Points",-1)),a(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>n(l).hitPoints=t),type:"number",min:"1",class:"form-input"},null,512),[[o,n(l).hitPoints]])]),e("div",ss,[s[26]||(s[26]=e("label",null,"Armor Class",-1)),a(e("input",{"onUpdate:modelValue":s[10]||(s[10]=t=>n(l).armorClass=t),type:"number",min:"1",class:"form-input"},null,512),[[o,n(l).armorClass]])]),e("div",es,[s[27]||(s[27]=e("label",null,"Initiative",-1)),a(e("input",{"onUpdate:modelValue":s[11]||(s[11]=t=>n(l).initiative=t),type:"number",min:"1",class:"form-input"},null,512),[[o,n(l).initiative]])]),e("div",ts,[s[28]||(s[28]=e("label",null,"Speed",-1)),a(e("input",{"onUpdate:modelValue":s[12]||(s[12]=t=>n(l).speed=t),type:"number",min:"1",class:"form-input"},null,512),[[o,n(l).speed]])])])]),e("div",ls,[s[33]||(s[33]=e("h3",{class:"text-xl font-semibold mb-4"},"Class Features",-1)),e("div",ns,[s[30]||(s[30]=e("h4",{class:"font-semibold"},"Hit Die",-1)),e("p",null,"d"+g(d.selectedClass.hit_die),1)]),e("div",as,[s[31]||(s[31]=e("h4",{class:"font-semibold"},"Saving Throws",-1)),e("ul",os,[(u(!0),m(x,null,C(d.selectedClass.saving_throws,t=>(u(),m("li",{key:t.index},g(t.name),1))),128))])]),e("div",is,[s[32]||(s[32]=e("h4",{class:"font-semibold"},"Proficiencies",-1)),e("ul",rs,[(u(!0),m(x,null,C(d.selectedClass.proficiencies,t=>(u(),m("li",{key:t.index},g(t.name),1))),128))])])])])]),e("div",{class:"mt-6 text-center"},[e("button",{onClick:v,class:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded"}," Salvar personagem ")])])):k("",!0)}}),us=V(ds,[["__scopeId","data-v-71e73ca1"]]),ms={class:"min-h-screen"},ps={class:"classes-grid"},cs=["onClick"],vs=_({__name:"index",async setup(h){let c,p;const{data:y}=([c,p]=U(()=>$("https://www.dnd5eapi.co/api/2014/classes","$9wc9U2muoD")),c=await c,p(),c),l=F(()=>{var i;return(i=y.value)==null?void 0:i.results}),v=w(null),d=async i=>{const r=await $fetch(`https://www.dnd5eapi.co/api/2014/classes/${i}`);v.value=r},s=async i=>{try{const r=await $fetch("/api/characters",{method:"POST",body:i});alert("Personagem salvo com sucesso!"),v.value=null}catch(r){console.error("Error saving character:",r),alert("Falha ao salvar personagem. Por favor, tente novamente.")}},t=()=>{D("/fichas")},b=i=>({barbarian:"#8B0000",bard:"#9370DB",cleric:"#FFD700",druid:"#228B22",fighter:"#A52A2A",monk:"#FFA500",paladin:"#4169E1",ranger:"#006400",rogue:"#4B0082",sorcerer:"#FF1493",warlock:"#800080",wizard:"#1E90FF"})[i.toLowerCase()]||"#808080";return(i,r)=>{const S=us;return u(),m("div",ms,[r[0]||(r[0]=e("h1",{class:"text-3xl font-bold mb-6 text-center text-gray-900 font-fantasy mt-4"},"Escolha sua classe",-1)),e("div",ps,[(u(!0),m(x,null,C(n(l),f=>(u(),m("div",{key:f.index,class:"class-card",style:P({backgroundColor:b(f.name)}),onClick:bs=>d(f.index)},[e("h1",null,g(f.name),1)],12,cs))),128))]),n(v)?(u(),B(S,{key:0,"selected-class":n(v),onSave:s},null,8,["selected-class"])):k("",!0),e("div",{class:"mt-6 text-center space-x-4"},[e("button",{onClick:t,class:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded"}," Ver fichas de personagens ")])])}}}),ys=V(vs,[["__scopeId","data-v-ca84e87d"]]);export{ys as default};
